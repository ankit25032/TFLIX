{"ast":null,"code":"import _regeneratorRuntime from\"D:/VS_Code/RECAT/NETFLIX/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/VS_Code/RECAT/NETFLIX/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"D:/VS_Code/RECAT/NETFLIX/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import\"./movies.css\";import{useRef}from\"react\";import{useState,UseEffect}from\"react\";import Smovies from\"./smovie\";import{useEffect}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Movies=function Movies(props){var API_KEY=\"api_key=0b640427f9aaaa52b5a46e8def202965\";var BASE_URL=\"https://api.themoviedb.org/3\";var API_URL=BASE_URL+\"/discover/movie?sort_by=popularity.desc&\"+API_KEY;var IMG_URL=\"https://image.tmdb.org/t/p/w500\";var searchURL=BASE_URL+\"/search/movie?\"+API_KEY;var mainlink=[];var mainurl=[];var maintitle=[];var mainarr=[];var mindex=0;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),compo=_useState2[0],setCompo=_useState2[1];useEffect(function(){dataCall();},[]);function search(_x){return _search.apply(this,arguments);}function _search(){_search=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(url){var req2,data2;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(url);case 2:req2=_context.sent;_context.next=5;return req2.json();case 5:data2=_context.sent;return _context.abrupt(\"return\",data2);case 7:case\"end\":return _context.stop();}}},_callee);}));return _search.apply(this,arguments);}function jsoncall(_x2){return _jsoncall.apply(this,arguments);}function _jsoncall(){_jsoncall=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(url){var req2,data2;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch(url);case 2:req2=_context2.sent;_context2.next=5;return req2.json();case 5:data2=_context2.sent;return _context2.abrupt(\"return\",data2);case 7:case\"end\":return _context2.stop();}}},_callee2);}));return _jsoncall.apply(this,arguments);}function loop(_x3,_x4,_x5){return _loop.apply(this,arguments);}//data fetch\nfunction _loop(){_loop=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(j,k,datam){var i,details;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:i=j;case 1:if(!(i<k)){_context3.next=17;break;}_context3.next=4;return search(searchURL+\"&query=\"+datam[i].name.replace(/ *\\([^)]*\\) */g,\"\"));case 4:details=_context3.sent;if(!(details.results.length!=0&&details.results[0].poster_path!=null)){_context3.next=14;break;}_context3.next=8;return datam[i].dlink;case 8:mainlink[mindex]=_context3.sent;mainurl[mindex]=IMG_URL+details.results[0].poster_path;_context3.next=12;return details.results[0].title;case 12:maintitle[mindex]=_context3.sent;mindex++;case 14:i++;_context3.next=1;break;case 17:mainarr.push(mainlink,mainurl,maintitle);return _context3.abrupt(\"return\",mainarr);case 19:case\"end\":return _context3.stop();}}},_callee3);}));return _loop.apply(this,arguments);}function dataCall(){return _dataCall.apply(this,arguments);}function _dataCall(){_dataCall=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){var datam,createarr,compo;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return jsoncall(\"./config.json\");case 2:datam=_context4.sent;_context4.next=5;return loop(props.j,props.k,datam);case 5:createarr=_context4.sent;_context4.next=8;return setting(createarr);case 8:compo=_context4.sent;setCompo(compo);case 10:case\"end\":return _context4.stop();}}},_callee4);}));return _dataCall.apply(this,arguments);}function setting(_x6){return _setting.apply(this,arguments);}//left and right scrolls\nfunction _setting(){_setting=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(arr){var length,compoarr,i;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return arr[0].length;case 2:length=_context5.sent;compoarr=[];for(i=0;i<length;i++){compoarr.push(/*#__PURE__*/_jsx(Smovies,{imgUrl:arr[1][i],title:arr[2][i]},i));}return _context5.abrupt(\"return\",compoarr);case 6:case\"end\":return _context5.stop();}}},_callee5);}));return _setting.apply(this,arguments);}var hscroll=useRef(null);var scrollL=function scrollL(sender){var obj=sender.parentNode;var cnode=obj.childNodes;var width=obj.scrollWidth;var currscroll=obj.scrollLeft;var ss=currscroll-400;if(ss<0){ss=0;}obj.scrollLeft=ss;};function scrollR(sender){var obj=sender.parentNode;var cnode=obj.childNodes;var width=obj.scrollWidth;var currscroll=obj.scrollLeft;var ss=currscroll+400;if(ss>=width){ss=width;}obj.scrollLeft=ss;}return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"container2\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"main-2\",ref:hscroll,children:[/*#__PURE__*/_jsx(\"div\",{className:\"mover-left\",onClick:function onClick(){scrollL(hscroll.current);},children:\"<\"}),compo,/*#__PURE__*/_jsx(\"div\",{className:\"mover-right\",onClick:function onClick(){scrollR(hscroll.current);},children:\">\"})]})})});};export default Movies;","map":{"version":3,"sources":["D:/VS_Code/RECAT/NETFLIX/src/components/Movies.jsx"],"names":["useRef","useState","UseEffect","Smovies","useEffect","Movies","props","API_KEY","BASE_URL","API_URL","IMG_URL","searchURL","mainlink","mainurl","maintitle","mainarr","mindex","compo","setCompo","dataCall","search","url","fetch","req2","json","data2","jsoncall","loop","j","k","datam","i","name","replace","details","results","length","poster_path","dlink","title","push","createarr","setting","arr","compoarr","hscroll","scrollL","sender","obj","parentNode","cnode","childNodes","width","scrollWidth","currscroll","scrollLeft","ss","scrollR","current"],"mappings":"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","sourcesContent":["import \"./movies.css\";\r\nimport { useRef } from \"react\";\r\nimport { useState, UseEffect } from \"react\";\r\nimport Smovies from \"./smovie\";\r\nimport { useEffect } from \"react\";\r\n\r\nconst Movies = (props) => {\r\n  const API_KEY = \"api_key=0b640427f9aaaa52b5a46e8def202965\";\r\n  const BASE_URL = \"https://api.themoviedb.org/3\";\r\n  const API_URL =\r\n    BASE_URL + \"/discover/movie?sort_by=popularity.desc&\" + API_KEY;\r\n  const IMG_URL = \"https://image.tmdb.org/t/p/w500\";\r\n  const searchURL = BASE_URL + \"/search/movie?\" + API_KEY;\r\n  let mainlink = [];\r\n  let mainurl = [];\r\n  let maintitle = [];\r\n  let mainarr = [];\r\n  let mindex = 0;\r\n\r\n  const [compo, setCompo] = useState(null);\r\n  useEffect(() => {\r\n    dataCall();\r\n  }, []);\r\n\r\n  async function search(url) {\r\n    const req2 = await fetch(url);\r\n    const data2 = await req2.json();\r\n    return data2;\r\n  }\r\n  async function jsoncall(url) {\r\n    const req2 = await fetch(url);\r\n    const data2 = await req2.json();\r\n    return data2;\r\n  }\r\n  async function loop(j, k, datam) {\r\n    for (let i = j; i < k; i++) {\r\n      const details = await search(\r\n        searchURL + \"&query=\" + datam[i].name.replace(/ *\\([^)]*\\) */g, \"\")\r\n      );\r\n      if (\r\n        details.results.length != 0 &&\r\n        details.results[0].poster_path != null\r\n      ) {\r\n        mainlink[mindex] = await datam[i].dlink;\r\n        mainurl[mindex] = IMG_URL + details.results[0].poster_path;\r\n        maintitle[mindex] = await details.results[0].title;\r\n        mindex++;\r\n      }\r\n    }\r\n    mainarr.push(mainlink, mainurl, maintitle);\r\n    return mainarr;\r\n  }\r\n  //data fetch\r\n  async function dataCall() {\r\n    const datam = await jsoncall(\"./config.json\");\r\n    const createarr = await loop(props.j, props.k, datam);\r\n    const compo = await setting(createarr);\r\n    setCompo(compo);\r\n  }\r\n\r\n  async function setting(arr) {\r\n    const length = await arr[0].length;\r\n    const compoarr = [];\r\n    for (let i = 0; i < length; i++) {\r\n      compoarr.push(<Smovies key={i} imgUrl={arr[1][i]} title={arr[2][i]} />);\r\n    }\r\n    return compoarr;\r\n  }\r\n\r\n  //left and right scrolls\r\n  const hscroll = useRef(null);\r\n  const scrollL = (sender) => {\r\n    var obj = sender.parentNode;\r\n    var cnode = obj.childNodes;\r\n    var width = obj.scrollWidth;\r\n    var currscroll = obj.scrollLeft;\r\n    var ss = currscroll - 400;\r\n    if (ss < 0) {\r\n      ss = 0;\r\n    }\r\n    obj.scrollLeft = ss;\r\n  };\r\n  function scrollR(sender) {\r\n    var obj = sender.parentNode;\r\n    var cnode = obj.childNodes;\r\n    var width = obj.scrollWidth;\r\n    var currscroll = obj.scrollLeft;\r\n    var ss = currscroll + 400;\r\n    if (ss >= width) {\r\n      ss = width;\r\n    }\r\n    obj.scrollLeft = ss;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"container2\">\r\n        <div className=\"main-2\" ref={hscroll}>\r\n          <div\r\n            className=\"mover-left\"\r\n            onClick={() => {\r\n              scrollL(hscroll.current);\r\n            }}\r\n          >\r\n            {\"<\"}\r\n          </div>\r\n          {compo}\r\n          <div\r\n            className=\"mover-right\"\r\n            onClick={() => {\r\n              scrollR(hscroll.current);\r\n            }}\r\n          >\r\n            {\">\"}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Movies;\r\n"]},"metadata":{},"sourceType":"module"}